---
title: "An√°lisis de Accidentes A√©reos (1995‚Äì2024) - Informe"
author: "Agostina Silva"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(lubridate)
```

## ‚úàÔ∏è Introducci√≥n

Este informe analiza los accidentes a√©reos con al menos una fatalidad entre 1995 y 2024, utilizando datos recolectados del sitio [BAAA](https://www.baaa-acro.com/statistics/worst-crashes) mediante un proceso de scraping automatizado (ver script scrapper.R).

A trav√©s del an√°lisis, se busca responder:

  ¬øQu√© aerol√≠neas han estado m√°s involucradas en accidentes fatales?

  ¬øExisten patrones temporales en la ocurrencia de estos eventos?

  ¬øQu√© modelos de avi√≥n se repiten con mayor frecuencia en este tipo de accidentes?

El objetivo es identificar tendencias o caracter√≠sticas comunes entre los casos m√°s graves, sin asumir de antemano a qu√© tipo de operadores o aeronaves corresponden.

## üì• Lectura e inspecci√≥n de datos

```{r}
accidentes_raw <- read_csv("accidentes_baaa_1995_2024.csv")
glimpse(accidentes_raw)
```

## üßπ Limpieza y transformaci√≥n

Se realiza limpieza de columnas clave: fechas, operadores, nombres de aviones, etc.

```{r}
accidentes <- accidentes_raw %>%
  filter(!is.na(Date), !is.na(Operator), !is.na(Fatalities)) %>%
  mutate(
    Date = as.Date(Date),
    A√±o = year(Date),
    Aerolinea = str_to_title(str_trim(Operator)),
    Avion = str_to_title(str_trim(Aircraft)),
    Categoria = case_when(
      Fatalities >= 100 ~ "Masivo",
      Fatalities >= 50 ~ "Grave",
      TRUE ~ "Moderado"
    )
  ) %>%
  select(Date, A√±o, Aerolinea, Avion, Location, Fatalities, Categoria)
```

## üìä Visualizaci√≥n de los datos

### üîù Top 10 Aerol√≠neas con m√°s Fatalidades

```{r}
accidentes %>%
  group_by(Aerolinea) %>%
  summarise(Fatalidades = sum(Fatalities, na.rm = TRUE)) %>%
  arrange(desc(Fatalidades)) %>%
  slice_head(n = 10) %>%
  ggplot(aes(x = reorder(Aerolinea, Fatalidades), y = Fatalidades)) +
  geom_col(fill = "#D7263D") +
  coord_flip() +
  labs(title = "Top 10 Aerol√≠neas con m√°s Fatalidades", x = "Aerol√≠nea", y = "Fatalidades") +
  theme_minimal()
```

### üìà Accidentes por A√±o

```{r}
accidentes %>%
  count(A√±o) %>%
  ggplot(aes(x = A√±o, y = n)) +
  geom_line(color = "#1B98E0", size = 1.2) +
  geom_point(color = "#1B98E0", size = 2) +
  labs(title = "Accidentes fatales por A√±o", x = "A√±o", y = "Cantidad") +
  theme_minimal()
```

## üõ¨ Modelos de Avi√≥n con m√°s Fatalidades

```{r}
accidentes %>%
  group_by(Avion) %>%
  summarise(Fatalidades = sum(Fatalities, na.rm = TRUE)) %>%
  arrange(desc(Fatalidades)) %>%
  slice_head(n = 10) %>%
  ggplot(aes(x = reorder(Avion, Fatalidades), y = Fatalidades)) +
  geom_col(fill = "#2A9D8F") +
  coord_flip() +
  labs(title = "Top 10 Modelos de Avi√≥n con m√°s Fatalidades", x = "Modelo", y = "Fatalidades") +
  theme_minimal()
```

## üß† Conclusiones

Las aerol√≠neas con mayor cantidad de fatalidades en accidentes a√©reos tienden a ser operadores peque√±os, estatales o vinculados a contextos militares, como Islamic Revolutionary Guard Corps o African Air. Esto sugiere que los accidentes m√°s graves no siempre involucran a grandes aerol√≠neas comerciales, sino que pueden estar relacionados con condiciones operativas precarias, entornos inestables o conflictos regionales.

Pese a la variabilidad interanual, la l√≠nea de tendencia indica una disminuci√≥n sostenida en la cantidad de accidentes fatales entre 1995 y 2024. Se observan picos en ciertos per√≠odos que podr√≠an coincidir con situaciones geopol√≠ticas espec√≠ficas o aumentos del tr√°fico a√©reo.

En cuanto a los modelos de avi√≥n, los que acumulan m√°s fatalidades corresponden en su mayor√≠a a aeronaves de transporte militar o de carga pesada, como el Antonov AN-32 y el Ilyushin Il-76, lo cual refleja la alta capacidad de estos aviones y su frecuente uso en operaciones de riesgo.

## ‚ö†Ô∏è Obst√°culos enfrentados

Durante el procesamiento del dataset:

- Se detectaron m√°s de 600 filas con valores faltantes en el nombre de la aerol√≠nea (Operator), lo que motiv√≥ su exclusi√≥n.

- Aunque no se encontraron inconsistencias por espacios extra ni duplicados exactos en may√∫sculas/min√∫sculas, se decidi√≥ estandarizar visualmente los nombres con str_to_title() para mejorar la presentaci√≥n de los gr√°ficos.

Tambi√©n se aplic√≥ str_trim() como medida preventiva para evitar errores silenciosos.

- Originalmente se consideraron fuentes como ASN o Kaggle, pero debido a sus restricciones de uso y limitaciones para automatizar el acceso (como la necesidad de solicitar los datos por correo), se opt√≥ por obtener la informaci√≥n desde BAAA, que publica datos de forma accesible. A partir de all√≠, se implement√≥ un scraper personalizado en scrapper.R para recorrer las p√°ginas y extraer los registros relevantes.

## üìé App interactiva

Para una exploraci√≥n visual y flexible, se desarroll√≥ una [Shiny App interactiva](https://datatalesbyagos.shinyapps.io/fatalidades_aereas_1995_2024/) que permite filtrar por rango de a√±os y ver los top 10 en distintos aspectos.

La app fue construida usando:

shiny para la interfaz reactiva,

dplyr para la manipulaci√≥n de datos,

ggplot2 para las visualizaciones,

stringr y lubridate para limpieza y tratamiento de texto y fechas.